<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epic Quest - Game Portal</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Background particles -->
    <canvas id="particles"></canvas>
    
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="brand-icon">‚öîÔ∏è</span>
                <span class="brand-text">EPIC QUEST</span>
            </div>
            <div class="nav-links" id="navLinks">
                <a href="#home" class="nav-link active">Home</a>
                <a href="#dashboard" class="nav-link" id="dashboardLink" style="display: none;">Dashboard</a>
                <a href="#leaderboard" class="nav-link">Leaderboard</a>
            </div>
            <div class="nav-auth" id="navAuth">
                <button class="btn btn-outline" id="loginBtn">Login</button>
                <button class="btn btn-primary" id="registerBtn">Register</button>
                <div class="user-menu" id="userMenu" style="display: none;">
                    <span class="user-name" id="userName"></span>
                    <button class="btn btn-danger" id="logoutBtn">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Home Section -->
        <section id="home" class="section active">
            <div class="hero">
                <div class="hero-content">
                    <h1 class="hero-title">
                        <span class="glitch" data-text="EPIC QUEST">EPIC QUEST</span>
                    </h1>
                    <p class="hero-subtitle">Enter a World of Heroes, Legends & Epic Battles</p>
                    <div class="hero-buttons">
                        <button class="btn btn-large btn-primary" id="heroRegisterBtn">Start Your Journey</button>
                        <button class="btn btn-large btn-outline" id="heroLeaderboardBtn">View Leaderboard</button>
                    </div>
                </div>
                <div class="hero-stats">
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-value" id="totalPlayers">-</div>
                        <div class="stat-label">Active Players</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚öîÔ∏è</div>
                        <div class="stat-value" id="totalCharacters">-</div>
                        <div class="stat-label">Characters</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-value" id="totalScores">-</div>
                        <div class="stat-label">Battles Fought</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard" class="section">
            <div class="dashboard-container">
                <div class="dashboard-header">
                    <h2>Player Dashboard</h2>
                    <button class="btn btn-primary" id="createPlayerBtn">
                        <span>‚ûï</span> Create New Player
                    </button>
                </div>

                <!-- Players Grid -->
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>My Players</h3>
                        <div id="playersList" class="items-list"></div>
                    </div>

                    <div class="dashboard-card">
                        <h3>Characters</h3>
                        <div class="card-actions">
                            <button class="btn btn-small btn-primary" id="createCharacterBtn">
                                <span>‚ûï</span> New Character
                            </button>
                        </div>
                        <div id="charactersList" class="items-list"></div>
                    </div>

                    <div class="dashboard-card">
                        <h3>Inventory</h3>
                        <div class="card-actions">
                            <button class="btn btn-small btn-primary" id="createItemBtn">
                                <span>‚ûï</span> Add Item
                            </button>
                        </div>
                        <div id="itemsList" class="items-list"></div>
                    </div>

                    <div class="dashboard-card">
                        <h3>Recent Scores</h3>
                        <div class="card-actions">
                            <button class="btn btn-small btn-primary" id="submitScoreBtn">
                                <span>‚ûï</span> Submit Score
                            </button>
                        </div>
                        <div id="scoresList" class="items-list"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Leaderboard Section -->
        <section id="leaderboard" class="section">
            <div class="leaderboard-container">
                <h2 class="section-title">üèÜ Global Leaderboard</h2>
                
                <div class="game-mode-tabs">
                    <button class="tab-btn active" data-mode="Arena">Arena</button>
                    <button class="tab-btn" data-mode="Dungeon">Dungeon</button>
                    <button class="tab-btn" data-mode="Quest">Quest</button>
                    <button class="tab-btn" data-mode="Raid">Raid</button>
                </div>

                <div class="leaderboard-table">
                    <div class="table-header">
                        <div class="rank-col">Rank</div>
                        <div class="player-col">Player</div>
                        <div class="score-col">Points</div>
                        <div class="stats-col">K/D</div>
                        <div class="time-col">Time</div>
                        <div class="difficulty-col">Difficulty</div>
                    </div>
                    <div id="leaderboardList" class="table-body">
                        <!-- Leaderboard entries will be loaded here -->
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="loginModal">&times;</span>
            <h2>Login to Your Account</h2>
            <form id="loginForm" class="form">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="loginUsername" required placeholder="Enter username">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" required placeholder="Enter password">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary btn-block">Login</button>
                </div>
                <p class="form-footer">
                    Don't have an account? 
                    <a href="#" id="switchToRegister">Register here</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="registerModal">&times;</span>
            <h2>Create Your Account</h2>
            <form id="registerForm" class="form">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="registerUsername" required placeholder="Choose a username" minlength="3">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="registerEmail" required placeholder="your.email@example.com">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="registerPassword" required placeholder="Create a password" minlength="6">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary btn-block">Register</button>
                </div>
                <p class="form-footer">
                    Already have an account? 
                    <a href="#" id="switchToLogin">Login here</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Create Player Modal -->
    <div id="createPlayerModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="createPlayerModal">&times;</span>
            <h2>Create New Player</h2>
            <form id="createPlayerForm" class="form">
                <div class="form-group">
                    <label>Player Name</label>
                    <input type="text" id="playerName" required placeholder="Enter player name" minlength="2">
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary btn-block">Create Player</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Create Character Modal -->
    <div id="createCharacterModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="createCharacterModal">&times;</span>
            <h2>Create New Character</h2>
            <form id="createCharacterForm" class="form">
                <div class="form-group">
                    <label>Select Player</label>
                    <select id="characterPlayerId" required>
                        <option value="">-- Select a Player --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Character Name</label>
                    <input type="text" id="characterName" required placeholder="Enter character name" minlength="2">
                </div>
                <div class="form-group">
                    <label>Character Class</label>
                    <select id="characterClass" required>
                        <option value="">-- Select Class --</option>
                        <option value="Warrior">‚öîÔ∏è Warrior</option>
                        <option value="Mage">üîÆ Mage</option>
                        <option value="Ranger">üèπ Ranger</option>
                        <option value="Rogue">üó°Ô∏è Rogue</option>
                        <option value="Paladin">üõ°Ô∏è Paladin</option>
                        <option value="Necromancer">üíÄ Necromancer</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary btn-block">Create Character</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Submit Score Modal -->
    <div id="submitScoreModal" class="modal">
        <div class="modal-content">
            <span class="close" data-modal="submitScoreModal">&times;</span>
            <h2>Submit Battle Score</h2>
            <form id="submitScoreForm" class="form">
                <div class="form-group">
                    <label>Select Player</label>
                    <select id="scorePlayerId" required>
                        <option value="">-- Select a Player --</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Game Mode</label>
                    <select id="scoreGameMode" required>
                        <option value="Arena">Arena</option>
                        <option value="Dungeon">Dungeon</option>
                        <option value="Quest">Quest</option>
                        <option value="Raid">Raid</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Points</label>
                        <input type="number" id="scorePoints" required min="0" value="1000">
                    </div>
                    <div class="form-group">
                        <label>Kills</label>
                        <input type="number" id="scoreKills" required min="0" value="10">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Deaths</label>
                        <input type="number" id="scoreDeaths" required min="0" value="0">
                    </div>
                    <div class="form-group">
                        <label>Time (seconds)</label>
                        <input type="number" id="scoreTime" required min="0" value="300">
                    </div>
                </div>
                <div class="form-group">
                    <label>Difficulty (1-10)</label>
                    <input type="range" id="scoreDifficulty" min="1" max="10" value="5">
                    <span id="difficultyValue">5</span>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary btn-block">Submit Score</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast"></div>

    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
